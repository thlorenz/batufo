var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function i(e){e.forEach(t)}function o(e){return"function"==typeof e}function l(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function a(e,t){e.appendChild(t)}function r(e,t,n){e.insertBefore(t,n||null)}function s(e){e.parentNode.removeChild(e)}function c(e){return document.createElement(e)}function u(e){return document.createTextNode(e)}function h(){return u(" ")}function p(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function d(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function m(e,t){t=""+t,e.data!==t&&(e.data=t)}let g;function f(e){g=e}function w(e){(function(){if(!g)throw new Error("Function called outside component initialization");return g})().$$.on_mount.push(e)}const b=[],y=[],v=[],L=[],R=Promise.resolve();let k=!1;function C(e){v.push(e)}let U=!1;const x=new Set;function $(){if(!U){U=!0;do{for(let e=0;e<b.length;e+=1){const t=b[e];f(t),S(t.$$)}for(b.length=0;y.length;)y.pop()();for(let e=0;e<v.length;e+=1){const t=v[e];x.has(t)||(x.add(t),t())}v.length=0}while(b.length);for(;L.length;)L.pop()();k=!1,U=!1,x.clear()}}function S(e){if(null!==e.fragment){e.update(),i(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(C)}}const T=new Set;let M;function H(e,t){e&&e.i&&(T.delete(e),e.i(t))}function _(e,t,n,i){if(e&&e.o){if(T.has(e))return;T.add(e),M.c.push(()=>{T.delete(e),i&&(n&&e.d(1),i())}),e.o(t)}}function P(e){e&&e.c()}function W(e,n,l){const{fragment:a,on_mount:r,on_destroy:s,after_update:c}=e.$$;a&&a.m(n,l),C(()=>{const n=r.map(t).filter(o);s?s.push(...n):i(n),e.$$.on_mount=[]}),c.forEach(C)}function I(e,t){const n=e.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function z(e,t){-1===e.$$.dirty[0]&&(b.push(e),k||(k=!0,R.then($)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function G(t,o,l,a,r,c,u=[-1]){const h=g;f(t);const p=o.props||{},d=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:r,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(h?h.$$.context:[]),callbacks:n(),dirty:u};let m=!1;if(d.ctx=l?l(t,p,(e,n,...i)=>{const o=i.length?i[0]:n;return d.ctx&&r(d.ctx[e],d.ctx[e]=o)&&(d.bound[e]&&d.bound[e](o),m&&z(t,e)),n}):[],d.update(),m=!0,i(d.before_update),d.fragment=!!a&&a(d.ctx),o.target){if(o.hydrate){const e=function(e){return Array.from(e.childNodes)}(o.target);d.fragment&&d.fragment.l(e),e.forEach(s)}else d.fragment&&d.fragment.c();o.intro&&H(t.$$.fragment),W(t,o.target,o.anchor),$()}f(h)}class A{$destroy(){I(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}function O(t){let n,i,o,l,p,g,f,w,b,y,v,L,R,k,C,U,x,$,S,T,M,H,_,P,W,I,z,G,A,O,q,E,N,F;return{c(){n=c("main"),i=c("h1"),o=u(t[0]),l=h(),p=c("a"),p.innerHTML='<img class="gif svelte-1g9gt8c" alt="Game in Action" src="assets/face-off.gif">',g=h(),f=c("h5"),f.textContent="Android",w=h(),b=c("a"),b.innerHTML='<img width="208px" alt="Get it on Google Play" src="https://play.google.com/intl/en_us/badges/static/images/badges/en_badge_web_generic.png">',y=h(),v=c("h5"),v.textContent="Linux",L=h(),R=c("a"),R.innerHTML='<img alt="Get it from the Snap Store" src="https://snapcraft.io/static/images/badges/en/snap-store-black.svg">',k=h(),C=c("h5"),C.textContent="macOS",U=h(),x=c("a"),$=c("img"),T=h(),M=c("br"),H=h(),_=c("a"),_.textContent="Installation Instructions",P=h(),W=c("h5"),W.textContent="Play Online",I=h(),z=c("a"),z.innerHTML='<img width="128px" alt="Play in the Browser" src="https://icons.iconarchive.com/icons/google/chrome/128/Google-Chrome-icon.png">',G=h(),A=c("p"),O=c("a"),q=u("Follow on Twitter"),E=u(" |\n    "),N=c("a"),F=u("Source on Github"),d(p,"href","http://thlorenz.com/batufo/webgame"),d(b,"href","https://play.google.com/store/apps/details?id=com.thlorenz.batufo&utm_source=home-page&pcampaignid=pcampaignidMKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1"),d(R,"href","https://snapcraft.io/batufo"),d($,"width","108px"),d($,"alt","Install on macOS"),$.src!==(S="https://cdn1.iconfinder.com/data/icons/system-black-circles/512/mac_os_X-512.png")&&d($,"src","https://cdn1.iconfinder.com/data/icons/system-black-circles/512/mac_os_X-512.png"),d(x,"href",t[3]),d(_,"class","subtext svelte-1g9gt8c"),d(_,"alt","Installation Instructions"),d(_,"target","_blank"),d(_,"href","pdfs/batufo-installation-macOS.pdf"),d(z,"href","http://thlorenz.com/batufo/webgame"),d(O,"href",t[1]),d(O,"target","_blank"),d(N,"href",t[2]),d(N,"target","_blank"),d(n,"class","main")},m(e,t){r(e,n,t),a(n,i),a(i,o),a(n,l),a(n,p),a(n,g),a(n,f),a(n,w),a(n,b),a(n,y),a(n,v),a(n,L),a(n,R),a(n,k),a(n,C),a(n,U),a(n,x),a(x,$),a(n,T),a(n,M),a(n,H),a(n,_),a(n,P),a(n,W),a(n,I),a(n,z),a(n,G),a(n,A),a(A,O),a(O,q),a(A,E),a(A,N),a(N,F)},p(e,[t]){1&t&&m(o,e[0]),2&t&&d(O,"href",e[1]),4&t&&d(N,"href",e[2])},i:e,o:e,d(e){e&&s(n)}}}function q(e,t,n){let{title:i}=t,{twitterURL:o}=t,{githubSourceURL:l}=t,{latestReleaseURL:a}=t,r=a.replace("tag","download")+"/batufo-macos.zip";return e.$set=e=>{"title"in e&&n(0,i=e.title),"twitterURL"in e&&n(1,o=e.twitterURL),"githubSourceURL"in e&&n(2,l=e.githubSourceURL),"latestReleaseURL"in e&&n(4,a=e.latestReleaseURL)},[i,o,l,r,a]}class E extends A{constructor(e){super(),G(this,e,q,O,l,{title:0,twitterURL:1,githubSourceURL:2,latestReleaseURL:4})}}function N(t){let n,i,o,l,p,g,f,w,b,y,v,L;return{c(){n=c("main"),i=c("h1"),o=u(t[1]),l=h(),p=c("p"),g=c("a"),f=u("Full Screen"),w=h(),b=c("span"),b.textContent="Recommended",y=h(),v=c("iframe"),d(g,"href",t[2]),d(g,"target","_blank"),d(b,"class","italic svelte-10b9e0n"),d(v,"title","game"),d(v,"class","center"),d(v,"width",t[3]),d(v,"height",t[4]),v.src!==(L=t[2])&&d(v,"src",L),d(v,"frameborder","0"),d(v,"allow","accelerometer; autoplay; encrypted-media; gyroscope;\n    picture-in-picture"),v.allowFullscreen=!0},m(e,s){r(e,n,s),a(n,i),a(i,o),a(n,l),a(n,p),a(p,g),a(g,f),a(p,w),a(p,b),a(n,y),a(n,v),t[7](v)},p(e,[t]){2&t&&m(o,e[1]),4&t&&d(g,"href",e[2]),8&t&&d(v,"width",e[3]),16&t&&d(v,"height",e[4]),4&t&&v.src!==(L=e[2])&&d(v,"src",L)},i:e,o:e,d(e){e&&s(n),t[7](null)}}}function F(e,t,n){let i,o,{title:l}=t,{editorURL:a}=t,{iframe:r=null}=t,{windowWidth:s}=t,{windowHeight:c}=t;return w(()=>r.focus()),e.$set=e=>{"title"in e&&n(1,l=e.title),"editorURL"in e&&n(2,a=e.editorURL),"iframe"in e&&n(0,r=e.iframe),"windowWidth"in e&&n(5,s=e.windowWidth),"windowHeight"in e&&n(6,c=e.windowHeight)},e.$$.update=()=>{32&e.$$.dirty&&n(3,i=.95*s),64&e.$$.dirty&&n(4,o=.8*c)},[r,l,a,i,o,s,c,function(e){y[e?"unshift":"push"](()=>{n(0,r=e)})}]}class B extends A{constructor(e){super(),G(this,e,F,N,l,{title:1,editorURL:2,iframe:0,windowWidth:5,windowHeight:6})}}function D(t){let n,i,o,l,p,g,f,w,b,y,v,L,R,k,C,U,x,$;return{c(){n=c("main"),i=c("h1"),o=u(t[0]),l=h(),p=c("h4"),p.textContent="Watch Game Development on YouTube or live on Twitch",g=h(),f=c("iframe"),b=h(),y=c("div"),v=c("a"),L=u("Subscribe on YouTube"),R=u(" |\n    "),k=c("a"),C=u("Twitch Channel"),U=u(" |\n    "),x=c("a"),$=u("YouTube Playlist"),d(f,"title","YouTube"),d(f,"class","center"),d(f,"width",t[5]),d(f,"height",t[6]),f.src!==(w=t[1])&&d(f,"src",w),d(f,"frameborder","0"),d(f,"allow","accelerometer; autoplay; encrypted-media; gyroscope;\n    picture-in-picture"),f.allowFullscreen=!0,d(v,"href",t[3]),d(v,"target","_blank"),d(k,"href",t[2]),d(k,"target","_blank"),d(x,"href",t[4]),d(x,"target","_blank")},m(e,t){r(e,n,t),a(n,i),a(i,o),a(n,l),a(n,p),a(n,g),a(n,f),a(n,b),a(n,y),a(y,v),a(v,L),a(y,R),a(y,k),a(k,C),a(y,U),a(y,x),a(x,$)},p(e,[t]){1&t&&m(o,e[0]),32&t&&d(f,"width",e[5]),64&t&&d(f,"height",e[6]),2&t&&f.src!==(w=e[1])&&d(f,"src",w),8&t&&d(v,"href",e[3]),4&t&&d(k,"href",e[2]),16&t&&d(x,"href",e[4])},i:e,o:e,d(e){e&&s(n)}}}function j(e,t,n){let i,o,{title:l}=t,{embedPlaylist:a}=t,{twitchChannelURL:r}=t,{subChannelURL:s}=t,{youtubePlaylistURL:c}=t,{windowWidth:u}=t;return e.$set=e=>{"title"in e&&n(0,l=e.title),"embedPlaylist"in e&&n(1,a=e.embedPlaylist),"twitchChannelURL"in e&&n(2,r=e.twitchChannelURL),"subChannelURL"in e&&n(3,s=e.subChannelURL),"youtubePlaylistURL"in e&&n(4,c=e.youtubePlaylistURL),"windowWidth"in e&&n(7,u=e.windowWidth)},e.$$.update=()=>{128&e.$$.dirty&&n(5,i=Math.min(.66*u,560)),32&e.$$.dirty&&n(6,o=i/1.77)},[l,a,r,s,c,i,o,u]}class V extends A{constructor(e){super(),G(this,e,j,D,l,{title:0,embedPlaylist:1,twitchChannelURL:2,subChannelURL:3,youtubePlaylistURL:4,windowWidth:7})}}function J(t){let n,i,o,l,p,g,f,w,b,y,v,L,R,k,C,U,x,$,S,T,M,H,_,P,W,I,z,G;return{c(){n=c("main"),i=c("h1"),o=u(t[0]),l=h(),p=c("h3"),p.textContent="Help me keep developing and sharing this Open Source Game",g=h(),f=c("p"),f.innerHTML="\n    Many nights and weekends went into the current version of the game.\n    <br> \n    <br>\n    I love sharing it with others so they can enjoy it and learn how games are developed.\n    <br> \n    <br>\n    I am asking for your support to keep the game server running and be able to invest more time.\n    <br> \n    <br>\n    If you like the game and related content please click one of the links below.\n  ",w=h(),b=c("div"),y=c("a"),v=u("Sponsor me on Github 💰"),L=h(),R=c("br"),k=h(),C=c("br"),U=h(),x=c("a"),$=u("Send me a Paypal Token of Appreciation 💸"),S=h(),T=c("br"),M=h(),H=c("br"),_=h(),P=c("a"),W=c("img"),z=h(),G=c("p"),G.textContent="💖 I appreciate your help, you are great! 💖",d(f,"class","narrow svelte-1xaaqnf"),d(y,"href",t[1]),d(y,"class","svelte-1xaaqnf"),d(x,"href",t[2]),d(x,"class","svelte-1xaaqnf"),d(W,"alt","become a patron"),W.src!==(I="https://c5.patreon.com/external/logo/become_a_patron_button.png")&&d(W,"src","https://c5.patreon.com/external/logo/become_a_patron_button.png"),d(W,"height","35px"),d(P,"href",t[3]),d(P,"class","svelte-1xaaqnf"),d(b,"class","buttons svelte-1xaaqnf"),d(G,"class","narrow svelte-1xaaqnf")},m(e,t){r(e,n,t),a(n,i),a(i,o),a(n,l),a(n,p),a(n,g),a(n,f),a(n,w),a(n,b),a(b,y),a(y,v),a(b,L),a(b,R),a(b,k),a(b,C),a(b,U),a(b,x),a(x,$),a(b,S),a(b,T),a(b,M),a(b,H),a(b,_),a(b,P),a(P,W),a(n,z),a(n,G)},p(e,[t]){1&t&&m(o,e[0]),2&t&&d(y,"href",e[1]),4&t&&d(x,"href",e[2]),8&t&&d(P,"href",e[3])},i:e,o:e,d(e){e&&s(n)}}}function Y(e,t,n){let{title:i}=t,{githubSponsorURL:o}=t,{paypalSponsorURL:l}=t,{patreonSponsorURL:a}=t;return e.$set=e=>{"title"in e&&n(0,i=e.title),"githubSponsorURL"in e&&n(1,o=e.githubSponsorURL),"paypalSponsorURL"in e&&n(2,l=e.paypalSponsorURL),"patreonSponsorURL"in e&&n(3,a=e.patreonSponsorURL)},[i,o,l,a]}class X extends A{constructor(e){super(),G(this,e,Y,J,l,{title:0,githubSponsorURL:1,paypalSponsorURL:2,patreonSponsorURL:3})}}function K(t){let n,i,o,l,p,m,g,f,w,b,y,v,L,R,k,C,U,x,$,S,T,M,H,_,P,W,I,z,G,A,O,q,E,N,F,B,D,j,V,J,Y,X,K,Q,Z,ee,te,ne,ie,oe,le,ae,re,se,ce,ue,he,pe,de,me,ge,fe,we,be,ye,ve,Le;return{c(){n=c("h1"),i=c("a"),o=u("Multiplayer Client-Server Architecture"),l=h(),p=c("p"),p.innerHTML="<code>Saturday, April 4, 2020</code>",m=h(),g=c("h2"),g.textContent="Terms",f=h(),w=c("h3"),w.textContent="Latency aka RTT aka Ping",b=h(),y=c("ul"),y.innerHTML="<li>round trip time is the time for a client message to result in a received server message</li> \n<li>the larger the RTT is, the larger is the latency</li>",v=h(),L=c("h4"),L.textContent="Jitter",R=h(),k=c("ul"),k.innerHTML="<li>the rate of change in the RTT</li>",C=h(),U=c("h3"),U.textContent="Authorative Server",x=h(),$=c("ul"),$.innerHTML="<li>game happens in server under our control</li> \n<li>clients just send inputs and render world as simulated by the server</li>",S=h(),T=c("h3"),T.textContent="Lockstep",M=h(),H=c("ul"),H.innerHTML="<li>client waits for server messages before updating or rendering anything</li> \n<li>used in Doom, worked well over LAN, but was unplayable over the internet</li>",_=h(),P=c("h2"),P.textContent="Server Time Step",W=h(),I=c("ul"),I.innerHTML="<li>goal is to decouple server updates from client command frequency</li> \n<li>queue player inputs without any processing (game loop does not run yet)</li> \n<li>instead game loop runs at much lower frequency i.e. every 100ms (time step)</li> \n<li>applies all queued player inputs<ul><li>to make physics more realistic they may be applied at smaller time deltas</li></ul></li> \n<li>then we take snapshot of resulting game state and broadcast to clients</li> \n<li>in order for client to successfully predict other entities in between updates it needs to\nhave sufficient info, in our game that means knowing the players + bullets velocity vectors</li>",z=h(),G=c("h3"),G.textContent="Prediction",A=h(),O=c("ul"),O.innerHTML='<li>predict local player and other entities from last given state<ul><li>in our game that means applying entity velocity onto last known entity\nposition considering time delta</li></ul></li> \n<li>when we get server state we&#39;ll <em>correct</em> our prediction</li> \n<li>best done via shared game simulation code<ul><li>in our game controller code is shared, so we are golden</li></ul></li> \n<li>the more deterministic our game is the better the result</li> \n<li>use message IDs to be able to replay commands that server hasn&#39;t received yet <a href="https://www.gabrielgambetta.com/client-side-prediction-server-reconciliation.html#server-reconciliation">see</a></li>',q=h(),E=c("h3"),E.textContent="Dead Reckoning",N=h(),F=c("ul"),F.innerHTML="<li>using client side prediction we may result in a slightly different game\nstate than server arrived at </li> \n<li>once we receive an update from the server and it doesn&#39;t match our state, we\ncorrect our assumptions</li> \n<li>falls down when game state is less predictable as that means we&#39;d correct\nour state all the time leading to lots of jumps, i.e. if player direction\nchanges frequently</li>",B=h(),D=c("h3"),D.textContent="Smoothing",j=h(),V=c("ul"),V.innerHTML="<li>correcting client position to position sent by server in one step may lead to jumps</li> \n<li>instead we can correct position slowly over time to make it look <em>smoother</em></li> \n<li>if interpolation work properly smoothing is not required as we know ahead of time where the\nentity will be</li>",J=h(),Y=c("h3"),Y.textContent="Interpolation",X=h(),K=c("ul"),K.innerHTML="<li>on the client show all entities except the player we control in the past</li> \n<li>buffer server game state messages and replay positions of other players delayed<ul><li>usually two packets behind</li></ul></li> \n<li>as a result we see ourselves in the present but everyone else in the past</li> \n<li>as this adds more lag to the opponents it makes lag compensation more importantXC</li> \n<li>adds client complexity</li>",Q=h(),Z=c("h3"),Z.textContent="Lag Compensation",ee=h(),te=c("ul"),te.innerHTML="<li>due to network lag and interpolation we&#39;re aiming at opponent&#39;s past positions</li> \n<li>to fix the server does the following<ul><li>reconstructs the world as we saw it when we fired shot (takes step back in time)</li> \n<li>this means all entities are moved back to where they were in that past</li> \n<li>then processes our action and determines result of shot as it would have happened in the\npast</li> \n<li>then moves game state back to present and sends snapshot - note that if present state is affected by outcome of player action applied in the past that needs to be applied to that present game state</li></ul></li> \n<li>adds server complexity</li>",ne=h(),ie=c("h2"),ie.textContent="Resources",oe=h(),le=c("ul"),le.innerHTML='<li><a href="https://www.gabrielgambetta.com/client-server-game-architecture.html">Fast-Paced Multiplayer four parts</a></li> \n<li><a href="https://www.gamasutra.com/blogs/MarkMennell/20140929/226628/Making_FastPaced_Multiplayer_Networked_Games_is_Hard.php">Making Fast-Paced Multiplayer Networked Games is Hard</a></li>',ae=h(),re=c("h3"),re.textContent="Valve",se=h(),ce=c("ul"),ce.innerHTML='<li><a href="https://developer.valvesoftware.com/wiki/Prediction">Prediction</a></li> \n<li><a href="https://developer.valvesoftware.com/wiki/Interpolation">Interpolation</a></li> \n<li><a href="https://developer.valvesoftware.com/wiki/Lag_compensation">Lag Compensation</a></li> \n<li><a href="https://developer.valvesoftware.com/wiki/Latency_Compensating_Methods_in_Client/Server_In-game_Protocol_Design_and_Optimization">Interpolation / Latency\nCompensation</a></li> \n<li><a href="https://developer.valvesoftware.com/wiki/Source_Multiplayer_Networking">Source Multiplayer\nNetworking</a></li>',ue=h(),he=c("h3"),he.textContent="IT Hare on Software",pe=h(),de=c("ul"),de.innerHTML='<li><a href="http://ithare.com/chapter-ii-game-entities-and-interactions-from-upcoming-book-development-and-deployment-of-mmog/">Game Entities and Interactions</a></li> \n<li><a href="http://ithare.com/chapter-iii-on-cheating-p2p-and-non-authoritative-servers-from-dd-of-mmog-book/">On Cheating, P2P, and non-Authoritative Servers</a></li> \n<li><a href="Http://ithare.com/mmog-rtt-input-lag-and-how-to-mitigate-them/">MMOG. RTT, Input Lag, and How to Mitigate Them</a></li> \n<li><a href="http://ithare.com/mmog-world-states-and-reducing-traffic/">MMOG: World States and Reducing Traffic</a></li> \n<li><a href="http://ithare.com/mmog-point-to-point-communications-and-non-blocking-rpcs/">MMOG. Point-to-Point Communications and non-blocking RPCs</a></li>',me=h(),ge=c("h3"),ge.textContent="Gaffer On Games",fe=h(),we=c("ul"),we.innerHTML='<li><a href="https://gafferongames.com/post/deterministic_lockstep/">Deterministic Lockstep</a></li> \n<li><a href="https://gafferongames.com/post/state_synchronization/">State Synchronization</a></li> \n<li><a href="https://gafferongames.com/post/snapshot_interpolation/">Snapshot Interpolation</a></li>',be=h(),ye=c("h3"),ye.textContent="Unreal",ve=h(),Le=c("ul"),Le.innerHTML='<li><a href="https://docs.unrealengine.com/udk/Three/NetworkingOverview.html">Unreal Engine 2: Unreal Networking\nArchitecture</a></li> \n<li><a href="https://docs.unrealengine.com/en-US/Gameplay/Networking/Overview/index.html">Unreal Engine 4: Networking Overview</a></li>',d(i,"href",t[0]),d(p,"class","right")},m(e,t){r(e,n,t),a(n,i),a(i,o),r(e,l,t),r(e,p,t),r(e,m,t),r(e,g,t),r(e,f,t),r(e,w,t),r(e,b,t),r(e,y,t),r(e,v,t),r(e,L,t),r(e,R,t),r(e,k,t),r(e,C,t),r(e,U,t),r(e,x,t),r(e,$,t),r(e,S,t),r(e,T,t),r(e,M,t),r(e,H,t),r(e,_,t),r(e,P,t),r(e,W,t),r(e,I,t),r(e,z,t),r(e,G,t),r(e,A,t),r(e,O,t),r(e,q,t),r(e,E,t),r(e,N,t),r(e,F,t),r(e,B,t),r(e,D,t),r(e,j,t),r(e,V,t),r(e,J,t),r(e,Y,t),r(e,X,t),r(e,K,t),r(e,Q,t),r(e,Z,t),r(e,ee,t),r(e,te,t),r(e,ne,t),r(e,ie,t),r(e,oe,t),r(e,le,t),r(e,ae,t),r(e,re,t),r(e,se,t),r(e,ce,t),r(e,ue,t),r(e,he,t),r(e,pe,t),r(e,de,t),r(e,me,t),r(e,ge,t),r(e,fe,t),r(e,we,t),r(e,be,t),r(e,ye,t),r(e,ve,t),r(e,Le,t)},p(e,[t]){1&t&&d(i,"href",e[0])},i:e,o:e,d(e){e&&s(n),e&&s(l),e&&s(p),e&&s(m),e&&s(g),e&&s(f),e&&s(w),e&&s(b),e&&s(y),e&&s(v),e&&s(L),e&&s(R),e&&s(k),e&&s(C),e&&s(U),e&&s(x),e&&s($),e&&s(S),e&&s(T),e&&s(M),e&&s(H),e&&s(_),e&&s(P),e&&s(W),e&&s(I),e&&s(z),e&&s(G),e&&s(A),e&&s(O),e&&s(q),e&&s(E),e&&s(N),e&&s(F),e&&s(B),e&&s(D),e&&s(j),e&&s(V),e&&s(J),e&&s(Y),e&&s(X),e&&s(K),e&&s(Q),e&&s(Z),e&&s(ee),e&&s(te),e&&s(ne),e&&s(ie),e&&s(oe),e&&s(le),e&&s(ae),e&&s(re),e&&s(se),e&&s(ce),e&&s(ue),e&&s(he),e&&s(pe),e&&s(de),e&&s(me),e&&s(ge),e&&s(fe),e&&s(we),e&&s(be),e&&s(ye),e&&s(ve),e&&s(Le)}}}function Q(e,t,n){let{link:i}=t;return e.$set=e=>{"link"in e&&n(0,i=e.link)},[i]}class Z extends A{constructor(e){super(),G(this,e,Q,K,l,{link:0})}}function ee(t){let n,i,o,l,p,m,g,f,w,b,y,v,L,R,k,C,U,x,$,S,T,M,H,_,P;return{c(){n=c("h1"),i=c("a"),o=u("Appling Multiplayer Strategies to Our Game"),l=h(),p=c("p"),p.innerHTML="<code>Saturday, April 4, 2020</code>",m=h(),g=c("h2"),g.textContent="Main Strategy Used",f=h(),w=c("ul"),w.innerHTML="<li>authoritative server sending updates every 100ms</li> \n<li>client updates are limited to 10/second</li> \n<li>client side prediction is used to exrapolate opponent&#39;s position from previous position and\ntheir velocity</li> \n<li>other players and bullets are predicted on the client from previous position and velocity<ul><li>same controllers as on server are used which allows us to predict collisions client side as\nwell</li></ul></li> \n<li>use dead reckoning to correct client predictions, both for opponents and bullets as well as\nour own player</li>",b=h(),y=c("h2"),y.textContent="Limiting Player Inputs",v=h(),L=c("ul"),L.innerHTML="<li>require 100ms between each shot<ul><li>instead of sending a key press we send <code>bulletCreated(angle)</code></li></ul></li> \n<li>require 100ms between each thrust<ul><li>instead of sending key press we send <code>appliedThrust(anger)</code></li> \n<li>server then calculates velocity</li></ul></li> \n<li>instead of sending rotation input we send <code>updatedAngle(angle)</code></li> \n<li>change of player angle happens in real time but is reported to the server at a 100ms interval\neven if no other client action occured</li>",R=h(),k=c("h2"),k.textContent="Server Processing of Player Inputs",C=h(),U=c("ul"),U.innerHTML="<li>delay execution of action until server tick<ul><li>in the worst case bullet is trailing client side prediction by 100ms</li></ul></li> \n<li>find way to align client input ticks to server ticks</li>",x=h(),$=c("h2"),$.textContent="To be seen",S=h(),T=c("ul"),T.innerHTML="<li>test how well dead reckoning works for our game and try the following if we end up with lots\nof player position jumps</li> \n<li>apply smooting to correct position slowly over time</li> \n<li>if nothing else works look into interpolation</li>",M=h(),H=c("h2"),H.textContent="Smaller Packets",_=h(),P=c("ul"),P.innerHTML="<li>if packets get too large we can omit bullet positions<ul><li>instead rely on client prediction to show bullets in flight</li> \n<li>use server to report created bullets <code>createBullet(bulletID, position, velocity)</code><ul><li>after that client predicts positions</li></ul></li> \n<li>and exploded bullets<ul><li><code>explodedBullet(bulletID, position)</code></li></ul></li></ul></li> \n<li>alternative is to limit amount of bullets / ammo available</li>",d(i,"href",t[0]),d(p,"class","right")},m(e,t){r(e,n,t),a(n,i),a(i,o),r(e,l,t),r(e,p,t),r(e,m,t),r(e,g,t),r(e,f,t),r(e,w,t),r(e,b,t),r(e,y,t),r(e,v,t),r(e,L,t),r(e,R,t),r(e,k,t),r(e,C,t),r(e,U,t),r(e,x,t),r(e,$,t),r(e,S,t),r(e,T,t),r(e,M,t),r(e,H,t),r(e,_,t),r(e,P,t)},p(e,[t]){1&t&&d(i,"href",e[0])},i:e,o:e,d(e){e&&s(n),e&&s(l),e&&s(p),e&&s(m),e&&s(g),e&&s(f),e&&s(w),e&&s(b),e&&s(y),e&&s(v),e&&s(L),e&&s(R),e&&s(k),e&&s(C),e&&s(U),e&&s(x),e&&s($),e&&s(S),e&&s(T),e&&s(M),e&&s(H),e&&s(_),e&&s(P)}}}function te(e,t,n){let{link:i}=t;return e.$set=e=>{"link"in e&&n(0,i=e.link)},[i]}class ne extends A{constructor(e){super(),G(this,e,te,ee,l,{link:0})}}function ie(t){let n,i,o,l,p,m,g,f,w,b,y,v,L,R,k,C,U,x,$,S,T,M,H,_,P,W,I,z,G,A,O,q;return{c(){n=c("h1"),i=c("a"),o=u("What's left to go to "),l=c("em"),l.textContent='"Production"',p=h(),m=c("p"),m.innerHTML="<code>Friday, May 8, 2020</code>",g=h(),f=c("p"),f.textContent="The game is basically finished at this point. We demonstrated that it is possible to build\nMultiplayer games like this with Flutter.",w=h(),b=c("p"),b.textContent="We also learned that making the server authoritative adds a lot of complexity. Not that it\nisn't solvable, but not worrying about cheaters makes the life of us developers a lot easier ;)",y=h(),v=c("p"),v.innerHTML="Below I&#39;m listing known issues that would need to be considered/fixed before the game as is\nwould be ready to go to <em>&quot;production&quot;</em> to be played by people all over the world.",L=h(),R=c("p"),R.textContent="The video series doesn't include these fixes as it ends here as its purpose was merely to get\npeople excited about building games in general and to demonstrate that Flutter is a viable and\nalso fun technology to do so.",k=h(),C=c("p"),C.textContent="If you're inspired you may continue building the game or build your own.",U=h(),x=c("p"),x.textContent="If you do the former you can start attacking issues listed below and/or refactor the code to\nnot require an authoritative server and get an idea how much easier things become as a result.",$=h(),S=c("p"),S.textContent="Happy Hacking!",T=h(),M=c("h2"),M.textContent="Client Side",H=h(),_=c("ul"),_.innerHTML='<li><p>sync player position smoothly</p> \n<ul><li>when position differs from server sent position don&#39;t jump to it immediately</li> \n<li>instead adjust players velocity so that it converges towards the server position</li> \n<li>over time server and client positions should either sync up or at least they don&#39;t go\nfurther out of sync event though we don&#39;t force correct with a jump</li></ul></li> \n<li><p>client networking</p> \n<ul><li>when client disconnects i.e. I&#39;m in a tunnel it needs to be able to reconnect</li> \n<li>this requires some logic to detect disconnects and have a reconnect strategy, i.e. <a href="https://en.wikipedia.org/wiki/Circuit_breaker_design_pattern">circuit breaker</a> to prevent it trying to reconnect indefinitely</li> \n<li>if reconnection fails tell the client that game is over or similar</li></ul></li>',P=h(),W=c("h2"),W.textContent="Server Side",I=h(),z=c("ul"),z.innerHTML="<li><p>Clean up Games</p> \n<ul><li>as of now games that finished never get collected</li> \n<li>first we need a way to detect if a game is over<ul><li>when only one player is alive</li> \n<li>it is nice to show player still floating around even when game is over</li> \n<li>how long do we give all players to restart game before we collect it</li> \n<li>what if all players disconnect?</li> \n<li>how long can a player be disconnected until it is disqualified and declared dead?</li></ul></li></ul></li> \n<li><p>Server needs to handle client reconnecting</p> \n<ul><li>when client provides game + client ids we reconnect the update streams</li></ul></li> \n<li><p>Make Server resilient</p> \n<ul><li>what happens if server crashes?</li> \n<li>need to have a way to detect that and have it restarted</li> \n<li>this can be handled by tools like systemd or load balancers</li></ul></li> \n<li><p>How do sticky sessions work when we have multiple servers</p> \n<ul><li>only need to fix this once we have certain success and lots of concurrent players</li> \n<li>once we have multiple servers need to figure out how to propagate RPC streams</li> \n<li>which load balancers support those + http2</li></ul></li> \n<li><p>deploy server(s)</p> \n<ul><li>where can we deploy dart servers?</li></ul></li>",G=h(),A=c("h2"),A.textContent="Added Features",O=h(),q=c("ul"),q.innerHTML="<li><p>Pickups</p> \n<ul><li>have health packets to allow players to pickup and increase their health balance</li> \n<li>other pickups could increase player score</li></ul></li> \n<li><p>Black Holes</p> \n<ul><li>draw players in to make things more interesting</li></ul></li> \n<li><p>Visualize Thrust + Bullet State</p> \n<ul><li>players can only apply thrust and shoot at certain intervals</li> \n<li>it would be nice to visualize the time left until we can do either</li> \n<li>it could look similar to the health bar</li></ul></li>",d(i,"href",t[0]),d(m,"class","right")},m(e,t){r(e,n,t),a(n,i),a(i,o),a(i,l),r(e,p,t),r(e,m,t),r(e,g,t),r(e,f,t),r(e,w,t),r(e,b,t),r(e,y,t),r(e,v,t),r(e,L,t),r(e,R,t),r(e,k,t),r(e,C,t),r(e,U,t),r(e,x,t),r(e,$,t),r(e,S,t),r(e,T,t),r(e,M,t),r(e,H,t),r(e,_,t),r(e,P,t),r(e,W,t),r(e,I,t),r(e,z,t),r(e,G,t),r(e,A,t),r(e,O,t),r(e,q,t)},p(e,[t]){1&t&&d(i,"href",e[0])},i:e,o:e,d(e){e&&s(n),e&&s(p),e&&s(m),e&&s(g),e&&s(f),e&&s(w),e&&s(b),e&&s(y),e&&s(v),e&&s(L),e&&s(R),e&&s(k),e&&s(C),e&&s(U),e&&s(x),e&&s($),e&&s(S),e&&s(T),e&&s(M),e&&s(H),e&&s(_),e&&s(P),e&&s(W),e&&s(I),e&&s(z),e&&s(G),e&&s(A),e&&s(O),e&&s(q)}}}function oe(e,t,n){let{link:i}=t;return e.$set=e=>{"link"in e&&n(0,i=e.link)},[i]}class le extends A{constructor(e){super(),G(this,e,oe,ie,l,{link:0})}}function ae(t){let n,i,o,l,p,m,g,f,w,b,y,v,L,R,k,C,U,x,$,S,T,M,H,_,P,W,I,z,G,A,O,q,E,N,F,B,D,j,V,J,Y,X,K,Q,Z,ee,te,ne,ie,oe,le,ae,re,se,ce,ue,he,pe,de,me,ge,fe,we,be,ye,ve,Le,Re,ke,Ce,Ue;return{c(){n=c("h1"),i=c("a"),o=u("Batufo Attributions"),l=h(),p=c("p"),p.innerHTML="<code>Sunday, July 5, 2020</code>",m=h(),g=c("p"),g.textContent="With the game arriving at its first version and published for numerous platforms I wanted to\ntake some time to thank and attribute the people that contributed with image and sound assets.",f=h(),w=c("p"),w.innerHTML='The assets I&#39;m refererring to are contained <a href="https://github.com/thlorenz/batufo/tree/master/client/assets">inside the assets\nfolder</a> of the game.',b=h(),y=c("p"),y.textContent="Many thanks to you all! 🙏 ❤️",v=h(),L=c("h2"),L.textContent="images",R=h(),k=c("h3"),k.textContent="bomb and app icon",C=h(),U=c("ul"),U.innerHTML="<li>icons/app-icon.png</li> \n<li>images/sprites/bomb.png</li> \n<li>Tibisay Escobar provided as CC-By-SA 3.0</li>",x=h(),$=c("h3"),$.textContent="bullet explosion",S=h(),T=c("ul"),T.innerHTML='<li><p>images/sprites/bullet-explosion.png</p></li> \n<li><p><a href="https://opengameart.org/content/explosion">url</a></p></li> \n<li><p>CC0</p></li>',M=h(),H=c("h3"),H.textContent="planets level background",_=h(),P=c("ul"),P.innerHTML='<li><p>images/bg/level-icon.png</p></li> \n<li><p><a href="https://opengameart.org/content/hd-planet">url</a></p></li> \n<li><p>LICENSE: CC0</p></li>',W=h(),I=c("h3"),I.textContent="planet sprites",z=h(),G=c("ul"),G.innerHTML='<li><p>images/bg/planets.png</p></li> \n<li><p><a href="https://opengameart.org/content/16-planet-sprites">url</a></p></li> \n<li><p>CC-By-SA 3.0</p></li>',A=h(),O=c("h3"),O.textContent="pickups",q=h(),E=c("ul"),E.innerHTML='<li>medkit.png, shield.png</li> \n<li><a href="https://opengameart.org/content/pickup-items-icons">url</a></li> \n<li>CC0</li>',N=h(),F=c("h2"),F.textContent="audio",B=h(),D=c("h3"),D.textContent="audio/bullet.wav",j=h(),V=c("ul"),V.innerHTML='<li><a href="https://opengameart.org/content/space-shooter-sound-effects">url</a></li> \n<li>CC-By 3.0</li>',J=h(),Y=c("h3"),Y.textContent="audio/bullet-hit-wall.wav",X=h(),K=c("ul"),K.innerHTML='<li><a href="https://opengameart.org/content/25-cc0-bang-firework-sfx">url</a></li> \n<li>CC0</li>',Q=h(),Z=c("h3"),Z.textContent="audio/ufo-hit-wall.wav",ee=h(),te=c("ul"),te.innerHTML='<li><a href="https://opengameart.org/content/sfx-the-ultimate-2017-16-bit-mini-pack">url</a></li> \n<li>CC0</li>',ne=h(),ie=c("h3"),ie.textContent="audio/thrust.wav",oe=h(),le=c("ul"),le.innerHTML='<li><a href="https://opengameart.org/content/50-cc0-sci-fi-sfx">url</a></li> \n<li>CC0</li>',ae=h(),re=c("h3"),re.textContent="audio/pickup-medkit.wav",se=h(),ce=c("ul"),ce.innerHTML='<li><a href="https://opengameart.org/content/sfx-the-ultimate-2017-16-bit-mini-pack">url</a></li> \n<li>CC0</li>',ue=h(),he=c("h3"),he.textContent="audio/pickup-shield.wav",pe=h(),de=c("ul"),de.innerHTML='<li><a href="https://opengameart.org/content/8-bit-sound-effect-pack-vol-001">url</a></li> \n<li>CC0</li>',me=h(),ge=c("h3"),ge.textContent="audio/pickup-bomb.wav",fe=h(),we=c("ul"),we.innerHTML='<li><a href="https://opengameart.org/content/8-bit-sound-effect-pack-vol-001">url</a></li> \n<li>CC0</li>',be=h(),ye=c("h3"),ye.textContent="audio/bomb-exploding.wav",ve=h(),Le=c("ul"),Le.innerHTML='<li><a href="https://opengameart.org/content/sfx-the-ultimate-2017-16-bit-mini-pack">url</a></li> \n<li>CC0</li>',Re=h(),ke=c("h3"),ke.textContent="audio/teleport.wav",Ce=h(),Ue=c("ul"),Ue.innerHTML='<li><a href="https://opengameart.org/content/sfx-the-ultimate-2017-16-bit-mini-pack">url</a></li> \n<li>CC0</li>',d(i,"href",t[0]),d(p,"class","right")},m(e,t){r(e,n,t),a(n,i),a(i,o),r(e,l,t),r(e,p,t),r(e,m,t),r(e,g,t),r(e,f,t),r(e,w,t),r(e,b,t),r(e,y,t),r(e,v,t),r(e,L,t),r(e,R,t),r(e,k,t),r(e,C,t),r(e,U,t),r(e,x,t),r(e,$,t),r(e,S,t),r(e,T,t),r(e,M,t),r(e,H,t),r(e,_,t),r(e,P,t),r(e,W,t),r(e,I,t),r(e,z,t),r(e,G,t),r(e,A,t),r(e,O,t),r(e,q,t),r(e,E,t),r(e,N,t),r(e,F,t),r(e,B,t),r(e,D,t),r(e,j,t),r(e,V,t),r(e,J,t),r(e,Y,t),r(e,X,t),r(e,K,t),r(e,Q,t),r(e,Z,t),r(e,ee,t),r(e,te,t),r(e,ne,t),r(e,ie,t),r(e,oe,t),r(e,le,t),r(e,ae,t),r(e,re,t),r(e,se,t),r(e,ce,t),r(e,ue,t),r(e,he,t),r(e,pe,t),r(e,de,t),r(e,me,t),r(e,ge,t),r(e,fe,t),r(e,we,t),r(e,be,t),r(e,ye,t),r(e,ve,t),r(e,Le,t),r(e,Re,t),r(e,ke,t),r(e,Ce,t),r(e,Ue,t)},p(e,[t]){1&t&&d(i,"href",e[0])},i:e,o:e,d(e){e&&s(n),e&&s(l),e&&s(p),e&&s(m),e&&s(g),e&&s(f),e&&s(w),e&&s(b),e&&s(y),e&&s(v),e&&s(L),e&&s(R),e&&s(k),e&&s(C),e&&s(U),e&&s(x),e&&s($),e&&s(S),e&&s(T),e&&s(M),e&&s(H),e&&s(_),e&&s(P),e&&s(W),e&&s(I),e&&s(z),e&&s(G),e&&s(A),e&&s(O),e&&s(q),e&&s(E),e&&s(N),e&&s(F),e&&s(B),e&&s(D),e&&s(j),e&&s(V),e&&s(J),e&&s(Y),e&&s(X),e&&s(K),e&&s(Q),e&&s(Z),e&&s(ee),e&&s(te),e&&s(ne),e&&s(ie),e&&s(oe),e&&s(le),e&&s(ae),e&&s(re),e&&s(se),e&&s(ce),e&&s(ue),e&&s(he),e&&s(pe),e&&s(de),e&&s(me),e&&s(ge),e&&s(fe),e&&s(we),e&&s(be),e&&s(ye),e&&s(ve),e&&s(Le),e&&s(Re),e&&s(ke),e&&s(Ce),e&&s(Ue)}}}function re(e,t,n){let{link:i}=t;return e.$set=e=>{"link"in e&&n(0,i=e.link)},[i]}class se extends A{constructor(e){super(),G(this,e,re,ae,l,{link:0})}}function ce(t){let n,i,o,l,u,p,m,g,f,w,b;const y=new se({props:{link:"#"+de}}),v=new le({props:{link:"#"+pe}}),L=new ne({props:{link:"#"+ue}}),R=new Z({props:{link:"#"+he}});return{c(){n=c("main"),i=c("article"),P(y.$$.fragment),o=h(),l=c("article"),P(v.$$.fragment),u=h(),p=c("article"),P(L.$$.fragment),m=h(),g=c("p"),f=h(),w=c("article"),P(R.$$.fragment),d(i,"id",de),d(i,"class","svelte-12amb70"),d(l,"id",pe),d(l,"class","svelte-12amb70"),d(p,"id",ue),d(p,"class","svelte-12amb70"),d(g,"class","separator svelte-12amb70"),d(w,"id",he),d(w,"class","svelte-12amb70")},m(e,t){r(e,n,t),a(n,i),W(y,i,null),a(n,o),a(n,l),W(v,l,null),a(n,u),a(n,p),W(L,p,null),a(n,m),a(n,g),a(n,f),a(n,w),W(R,w,null),b=!0},p:e,i(e){b||(H(y.$$.fragment,e),H(v.$$.fragment,e),H(L.$$.fragment,e),H(R.$$.fragment,e),b=!0)},o(e){_(y.$$.fragment,e),_(v.$$.fragment,e),_(L.$$.fragment,e),_(R.$$.fragment,e),b=!1},d(e){e&&s(n),I(y),I(v),I(L),I(R)}}}const ue="devlog-applying-strategies",he="devlog-multiplayer-architecture",pe="devlog-batufo-todos",de="devlog-batufo-attrib";class me extends A{constructor(e){super(),G(this,e,null,ce,l,{})}}function ge(t){let n;const i=new me({});return{c(){P(i.$$.fragment)},m(e,t){W(i,e,t),n=!0},p:e,i(e){n||(H(i.$$.fragment,e),n=!0)},o(e){_(i.$$.fragment,e),n=!1},d(e){I(i,e)}}}function fe(e){let t;const n=new X({props:{title:e[1],githubSponsorURL:e[13],paypalSponsorURL:e[14],patreonSponsorURL:e[15]}});return{c(){P(n.$$.fragment)},m(e,i){W(n,e,i),t=!0},p(e,t){const i={};2&t&&(i.title=e[1]),8192&t&&(i.githubSponsorURL=e[13]),16384&t&&(i.paypalSponsorURL=e[14]),32768&t&&(i.patreonSponsorURL=e[15]),n.$set(i)},i(e){t||(H(n.$$.fragment,e),t=!0)},o(e){_(n.$$.fragment,e),t=!1},d(e){I(n,e)}}}function we(e){let t;const n=new V({props:{title:e[1],subChannelURL:e[3],twitchChannelURL:e[6],youtubePlaylistURL:e[9],windowWidth:e[20],embedPlaylist:e[2]}});return{c(){P(n.$$.fragment)},m(e,i){W(n,e,i),t=!0},p(e,t){const i={};2&t&&(i.title=e[1]),8&t&&(i.subChannelURL=e[3]),64&t&&(i.twitchChannelURL=e[6]),512&t&&(i.youtubePlaylistURL=e[9]),1048576&t&&(i.windowWidth=e[20]),4&t&&(i.embedPlaylist=e[2]),n.$set(i)},i(e){t||(H(n.$$.fragment,e),t=!0)},o(e){_(n.$$.fragment,e),t=!1},d(e){I(n,e)}}}function be(e){let t;const n=new B({props:{title:e[1],editorURL:e[5],windowWidth:e[20],windowHeight:e[21]}});return{c(){P(n.$$.fragment)},m(e,i){W(n,e,i),t=!0},p(e,t){const i={};2&t&&(i.title=e[1]),32&t&&(i.editorURL=e[5]),1048576&t&&(i.windowWidth=e[20]),2097152&t&&(i.windowHeight=e[21]),n.$set(i)},i(e){t||(H(n.$$.fragment,e),t=!0)},o(e){_(n.$$.fragment,e),t=!1},d(e){I(n,e)}}}function ye(e){let t;const n=new E({props:{title:e[1],embedPlaylist:e[2],gameWebURL:e[4],twitterURL:e[8],twitchChannelURL:e[6],latestReleaseURL:e[7],githubSourceURL:e[12],windowWidth:e[20]}});return{c(){P(n.$$.fragment)},m(e,i){W(n,e,i),t=!0},p(e,t){const i={};2&t&&(i.title=e[1]),4&t&&(i.embedPlaylist=e[2]),16&t&&(i.gameWebURL=e[4]),256&t&&(i.twitterURL=e[8]),64&t&&(i.twitchChannelURL=e[6]),128&t&&(i.latestReleaseURL=e[7]),4096&t&&(i.githubSourceURL=e[12]),1048576&t&&(i.windowWidth=e[20]),n.$set(i)},i(e){t||(H(n.$$.fragment,e),t=!0)},o(e){_(n.$$.fragment,e),t=!1},d(e){I(n,e)}}}function ve(e){let t,n,o,l,m,g,f,w,b,y,v,L,R,k,C,U,x,$,S,T,P,W,I,z;const G=[ye,be,we,fe,ge],A=[];function O(e,t){return e[0].currentRoute===e[10].home?0:e[0].currentRoute===e[10].editor?1:e[0].currentRoute===e[10].watch?2:e[0].currentRoute===e[10].sponsor?3:(1025&t&&(T=!(e[0].currentRoute!==e[10].devlog&&!e[26]())),T?4:-1)}return~(P=O(e,-1))&&(W=A[P]=G[P](e)),{c(){t=c("main"),n=c("nav"),o=c("a"),l=u("Home"),g=h(),f=c("a"),w=u("Watch"),y=h(),v=c("a"),L=u("Devlog"),k=h(),C=c("a"),U=u("Editor"),$=h(),S=c("div"),W&&W.c(),d(o,"href",m=e[11]+e[10].home.hash),d(o,"class",e[16]),d(f,"href",b=e[11]+e[10].watch.hash),d(f,"class",e[18]),d(v,"href",R=e[11]+e[10].devlog.hash),d(v,"class",e[19]),d(C,"href",x=e[11]+e[10].editor.hash),d(C,"class",e[17]),d(n,"class","svelte-1unahff")},m(s,c,u){r(s,t,c),a(t,n),a(n,o),a(o,l),a(n,g),a(n,f),a(f,w),a(n,y),a(n,v),a(v,L),a(n,k),a(n,C),a(C,U),a(t,$),a(t,S),~P&&A[P].m(S,null),I=!0,u&&i(z),z=[p(o,"click",e[22]),p(f,"click",e[24]),p(v,"click",e[25]),p(C,"click",e[23])]},p(e,[t]){(!I||3072&t&&m!==(m=e[11]+e[10].home.hash))&&d(o,"href",m),(!I||65536&t)&&d(o,"class",e[16]),(!I||3072&t&&b!==(b=e[11]+e[10].watch.hash))&&d(f,"href",b),(!I||262144&t)&&d(f,"class",e[18]),(!I||3072&t&&R!==(R=e[11]+e[10].devlog.hash))&&d(v,"href",R),(!I||524288&t)&&d(v,"class",e[19]),(!I||3072&t&&x!==(x=e[11]+e[10].editor.hash))&&d(C,"href",x),(!I||131072&t)&&d(C,"class",e[17]);let n=P;P=O(e,t),P===n?~P&&A[P].p(e,t):(W&&(M={r:0,c:[],p:M},_(A[n],1,1,()=>{A[n]=null}),M.r||i(M.c),M=M.p),~P?(W=A[P],W||(W=A[P]=G[P](e),W.c()),H(W,1),W.m(S,null)):W=null)},i(e){I||(H(W),I=!0)},o(e){_(W),I=!1},d(e){e&&s(t),~P&&A[P].d(),i(z)}}}function Le(e,t,n){let{title:i}=t,{embedPlaylist:o}=t,{subChannelURL:l}=t,{gameWebURL:a}=t,{editorURL:r}=t,{twitchChannelURL:s}=t,{latestReleaseURL:c}=t,{twitterURL:u}=t,{youtubePlaylistURL:h}=t,{state:p}=t,{routes:d}=t,{rootURL:m}=t,{githubSourceURL:g}=t,{githubSponsorURL:f}=t,{paypalSponsorURL:w}=t,{patreonSponsorURL:b}=t;const y=()=>window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,v=()=>window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,L=()=>location.hash.startsWith(d.devlog.hash);let R,k,C,U,x,$,S;return window.onresize=()=>{n(20,$=y()),n(21,S=v())},e.$set=e=>{"title"in e&&n(1,i=e.title),"embedPlaylist"in e&&n(2,o=e.embedPlaylist),"subChannelURL"in e&&n(3,l=e.subChannelURL),"gameWebURL"in e&&n(4,a=e.gameWebURL),"editorURL"in e&&n(5,r=e.editorURL),"twitchChannelURL"in e&&n(6,s=e.twitchChannelURL),"latestReleaseURL"in e&&n(7,c=e.latestReleaseURL),"twitterURL"in e&&n(8,u=e.twitterURL),"youtubePlaylistURL"in e&&n(9,h=e.youtubePlaylistURL),"state"in e&&n(0,p=e.state),"routes"in e&&n(10,d=e.routes),"rootURL"in e&&n(11,m=e.rootURL),"githubSourceURL"in e&&n(12,g=e.githubSourceURL),"githubSponsorURL"in e&&n(13,f=e.githubSponsorURL),"paypalSponsorURL"in e&&n(14,w=e.paypalSponsorURL),"patreonSponsorURL"in e&&n(15,b=e.patreonSponsorURL)},e.$$.update=()=>{1025&e.$$.dirty&&n(16,R=p.currentRoute===d.home?"underline":""),1025&e.$$.dirty&&n(17,k=p.currentRoute===d.editor?"underline":""),1025&e.$$.dirty&&n(18,C=p.currentRoute===d.watch?"underline":""),1025&e.$$.dirty&&(U=p.currentRoute===d.sponsor?"underline":"")},n(19,x=L()?"underline":""),n(20,$=y()),n(21,S=v()),[p,i,o,l,a,r,s,c,u,h,d,m,g,f,w,b,R,k,C,x,$,S,()=>{n(0,p.currentRoute=d.home,p),n(0,p)},()=>{n(0,p.currentRoute=d.editor,p),n(0,p)},()=>{n(0,p.currentRoute=d.watch,p),n(0,p)},()=>{n(0,p.currentRoute=d.devlog,p),n(0,p)},L]}var Re={version:"v0.5.1+5",url:"https://github.com/thlorenz/batufo/releases/tag/v0.5.1+5"};const ke={home:{id:"home",hash:""},editor:{id:"editor",hash:"#editor"},watch:{id:"watch",hash:"#watch"},sponsor:{id:"sponsor",hash:"#sponsor"},devlog:{id:"devlog",hash:"#devlog"}},Ce=location.hash,Ue=Ce===ke.editor.hash?ke.editor:Ce===ke.watch.hash?ke.watch:Ce===ke.sponsor.hash?ke.sponsor:location.hash.startsWith(ke.devlog.hash)?ke.devlog:ke.home,xe=location.href.includes("localhost")?"/":"https://thlorenz.github.io/batufo/";return new class extends A{constructor(e){super(),G(this,e,Le,ve,l,{title:1,embedPlaylist:2,subChannelURL:3,gameWebURL:4,editorURL:5,twitchChannelURL:6,latestReleaseURL:7,twitterURL:8,youtubePlaylistURL:9,state:0,routes:10,rootURL:11,githubSourceURL:12,githubSponsorURL:13,paypalSponsorURL:14,patreonSponsorURL:15})}}({target:document.body,props:{title:"2D Multiplayer Flutter Game",embedVideo:"https://www.youtube.com/embed/xTcO6lPMUaA",embedPlaylist:"https://www.youtube.com/embed/videoseries?list=PL4k64WemroGlTDHJzVo_O1l6C0nuwRc6G",subChannelURL:"https://www.youtube.com/user/thlorenz10?sub_confirmation=1",gameWebURL:"http://thlorenz.com/batufo/webgame",editorURL:"https://thlorenz.github.io/batufo/editor",latestReleaseURL:Re.url,githubSourceURL:"https://github.com/thlorenz/batufo",youtubePlaylistURL:"https://www.youtube.com/watch?list=PL4k64WemroGlTDHJzVo_O1l6C0nuwRc6G&v=xTcO6lPMUaA",twitchChannel:"thlorenz",twitchChannelURL:"https://www.twitch.tv/thlorenz",twitterURL:"https://twitter.com/thlorenz",githubSponsorURL:"https://github.com/sponsors/thlorenz",paypalSponsorURL:"https://www.paypal.me/thlorenz/5",patreonSponsorURL:"https://www.patreon.com/bePatron?u=8663953",routes:ke,state:{currentRoute:Ue},rootURL:xe}})}();
//# sourceMappingURL=bundle.js.map
